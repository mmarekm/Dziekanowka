@using Dziekanowka.Mechanizm
@using Dziekanowka.Gracza
@inject LadowanieGracza ladowanieGracza
@inject Dzwieki dzwieki
@implements IDisposable
<div class="oboraWidok widok rel">
    <div class="abs oboraDoZwierzyncaGuzik"><button @onclick="async () => await NaZmianeEkranu.InvokeAsync(EkranGry.Zwierzyniec)" class="wyroznionyGuzik"><img src="img/zwierzyniec/oboraDoZwierzyniec.png" /></button></div>
</div>

@code {
    [Parameter] public Gracz Gracz { get; set; } = null!;
    [Parameter] public EventCallback<EkranGry> NaZmianeEkranu { get; set; }
    private bool animujJajo = false;
    private List<PozycjaKrowy> pozycjeKrowy = new();
    private System.Threading.Timer? timerDzwiekKrowy;
    private List<System.Threading.Timer?> timeryKrowy = new();
    private Random random = new Random();
    private class PozycjaKrowy
    {
        public double X { get; set; }
        public double Y { get; set; }
        public double CzasPrzejscia { get; set; } = 2;
        public bool PatrzyWLewo { get; set; }
    }
    public void Dispose()
    {
        foreach (var timer in timeryKrowy)
            timer?.Dispose();
        timerDzwiekKrowy?.Dispose();
    }
}