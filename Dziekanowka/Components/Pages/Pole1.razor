@using Dziekanowka.Mechanizm
@using Dziekanowka.Gracza
@inject LadowanieGracza ladowanieGracza
<div class="pole1Widok widok rel">
    <div class="abs naPoleIntroZPole1"><button class="wyroznionyGuzik" @onclick="NaPoleIntro"><img src="img/naPoleIntroZPole1.png" /></button></div>
    @for (int x = 1; x <= 5; x++)
    {
        var localX = x;
        @for (int y = 1; y <= 4; y++)
        {
            var localY = y;
            var pole = Gracz.PolaUprawne.First(p => p.Id == 1 && p.X == localX && p.Y == localY);
            <div class="@($"abs pojedynczePole1 pole1{localX}{localY}")">
                <img class="obrazekWypelnia" src="@($"img/pole{(pole.Poziom > -1 ? "Zadbane" : "Zaniedbane")}.png")" />
                <div class="abs warzywoNaPolu">
                    <img class="obrazekWypelnia" src="@($"img/przedmioty/warzywa/{pole.Warzywo}.png")" />
                </div>
            </div>
        }
    }
</div>

@code {
    [Parameter]
    public Gracz Gracz { get; set; } = null!;
    [Parameter]
    public EventCallback<EkranGry> NaZmianeEkranu { get; set; }
    public async Task NaPoleIntro()
    {
        await NaZmianeEkranu.InvokeAsync(EkranGry.PoleIntro);
    }
}
